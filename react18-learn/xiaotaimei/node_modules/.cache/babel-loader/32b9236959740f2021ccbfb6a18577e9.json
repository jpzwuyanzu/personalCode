{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport useRafState from '../useRafState';\nimport useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nfunction useScroll(target, shouldUpdate) {\n  if (shouldUpdate === void 0) {\n    shouldUpdate = function shouldUpdate() {\n      return true;\n    };\n  }\n  var _a = __read(useRafState(), 2),\n    position = _a[0],\n    setPosition = _a[1];\n  var shouldUpdateRef = useLatest(shouldUpdate);\n  useEffectWithTarget(function () {\n    var el = getTargetElement(target, document);\n    if (!el) {\n      return;\n    }\n    var updatePosition = function updatePosition() {\n      var newPosition;\n      if (el === document) {\n        if (document.scrollingElement) {\n          newPosition = {\n            left: document.scrollingElement.scrollLeft,\n            top: document.scrollingElement.scrollTop\n          };\n        } else {\n          // When in quirks mode, the scrollingElement attribute returns the HTML body element if it exists and is potentially scrollable, otherwise it returns null.\n          // https://developer.mozilla.org/zh-CN/docs/Web/API/Document/scrollingElement\n          // https://stackoverflow.com/questions/28633221/document-body-scrolltop-firefox-returns-0-only-js\n          newPosition = {\n            left: Math.max(window.pageXOffset, document.documentElement.scrollLeft, document.body.scrollLeft),\n            top: Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop)\n          };\n        }\n      } else {\n        newPosition = {\n          left: el.scrollLeft,\n          top: el.scrollTop\n        };\n      }\n      if (shouldUpdateRef.current(newPosition)) {\n        setPosition(newPosition);\n      }\n    };\n    updatePosition();\n    el.addEventListener('scroll', updatePosition);\n    return function () {\n      el.removeEventListener('scroll', updatePosition);\n    };\n  }, [], target);\n  return position;\n}\nexport default useScroll;","map":{"version":3,"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","useRafState","useLatest","getTargetElement","useEffectWithTarget","useScroll","target","shouldUpdate","_a","position","setPosition","shouldUpdateRef","el","document","updatePosition","newPosition","scrollingElement","left","scrollLeft","top","scrollTop","Math","max","window","pageXOffset","documentElement","body","pageYOffset","current","addEventListener","removeEventListener"],"sources":["/Users/xinyonghu/Desktop/personalCode/react18-learn/xiaotaimei/node_modules/ahooks/es/useScroll/index.js"],"sourcesContent":["var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport useRafState from '../useRafState';\nimport useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nfunction useScroll(target, shouldUpdate) {\n  if (shouldUpdate === void 0) {\n    shouldUpdate = function shouldUpdate() {\n      return true;\n    };\n  }\n  var _a = __read(useRafState(), 2),\n    position = _a[0],\n    setPosition = _a[1];\n  var shouldUpdateRef = useLatest(shouldUpdate);\n  useEffectWithTarget(function () {\n    var el = getTargetElement(target, document);\n    if (!el) {\n      return;\n    }\n    var updatePosition = function updatePosition() {\n      var newPosition;\n      if (el === document) {\n        if (document.scrollingElement) {\n          newPosition = {\n            left: document.scrollingElement.scrollLeft,\n            top: document.scrollingElement.scrollTop\n          };\n        } else {\n          // When in quirks mode, the scrollingElement attribute returns the HTML body element if it exists and is potentially scrollable, otherwise it returns null.\n          // https://developer.mozilla.org/zh-CN/docs/Web/API/Document/scrollingElement\n          // https://stackoverflow.com/questions/28633221/document-body-scrolltop-firefox-returns-0-only-js\n          newPosition = {\n            left: Math.max(window.pageXOffset, document.documentElement.scrollLeft, document.body.scrollLeft),\n            top: Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop)\n          };\n        }\n      } else {\n        newPosition = {\n          left: el.scrollLeft,\n          top: el.scrollTop\n        };\n      }\n      if (shouldUpdateRef.current(newPosition)) {\n        setPosition(newPosition);\n      }\n    };\n    updatePosition();\n    el.addEventListener('scroll', updatePosition);\n    return function () {\n      el.removeEventListener('scroll', updatePosition);\n    };\n  }, [], target);\n  return position;\n}\nexport default useScroll;"],"mappings":"AAAA,IAAIA,MAAM,GAAG,IAAI,IAAI,IAAI,CAACA,MAAM,IAAI,UAAUC,CAAC,EAAEC,CAAC,EAAE;EAClD,IAAIC,CAAC,GAAG,OAAOC,MAAM,KAAK,UAAU,IAAIH,CAAC,CAACG,MAAM,CAACC,QAAQ,CAAC;EAC1D,IAAI,CAACF,CAAC,EAAE,OAAOF,CAAC;EAChB,IAAIK,CAAC,GAAGH,CAAC,CAACI,IAAI,CAACN,CAAC,CAAC;IACfO,CAAC;IACDC,EAAE,GAAG,EAAE;IACPC,CAAC;EACH,IAAI;IACF,OAAO,CAACR,CAAC,KAAK,KAAK,CAAC,IAAIA,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAACM,CAAC,GAAGF,CAAC,CAACK,IAAI,EAAE,EAAEC,IAAI,EAAE;MACxDH,EAAE,CAACI,IAAI,CAACL,CAAC,CAACM,KAAK,CAAC;IAClB;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdL,CAAC,GAAG;MACFK,KAAK,EAAEA;IACT,CAAC;EACH,CAAC,SAAS;IACR,IAAI;MACF,IAAIP,CAAC,IAAI,CAACA,CAAC,CAACI,IAAI,KAAKT,CAAC,GAAGG,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAEH,CAAC,CAACI,IAAI,CAACD,CAAC,CAAC;IAClD,CAAC,SAAS;MACR,IAAII,CAAC,EAAE,MAAMA,CAAC,CAACK,KAAK;IACtB;EACF;EACA,OAAON,EAAE;AACX,CAAC;AACD,OAAOO,WAAW,MAAM,gBAAgB;AACxC,OAAOC,SAAS,MAAM,cAAc;AACpC,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,OAAOC,mBAAmB,MAAM,8BAA8B;AAC9D,SAASC,SAAS,CAACC,MAAM,EAAEC,YAAY,EAAE;EACvC,IAAIA,YAAY,KAAK,KAAK,CAAC,EAAE;IAC3BA,YAAY,GAAG,SAASA,YAAY,GAAG;MACrC,OAAO,IAAI;IACb,CAAC;EACH;EACA,IAAIC,EAAE,GAAGvB,MAAM,CAACgB,WAAW,EAAE,EAAE,CAAC,CAAC;IAC/BQ,QAAQ,GAAGD,EAAE,CAAC,CAAC,CAAC;IAChBE,WAAW,GAAGF,EAAE,CAAC,CAAC,CAAC;EACrB,IAAIG,eAAe,GAAGT,SAAS,CAACK,YAAY,CAAC;EAC7CH,mBAAmB,CAAC,YAAY;IAC9B,IAAIQ,EAAE,GAAGT,gBAAgB,CAACG,MAAM,EAAEO,QAAQ,CAAC;IAC3C,IAAI,CAACD,EAAE,EAAE;MACP;IACF;IACA,IAAIE,cAAc,GAAG,SAASA,cAAc,GAAG;MAC7C,IAAIC,WAAW;MACf,IAAIH,EAAE,KAAKC,QAAQ,EAAE;QACnB,IAAIA,QAAQ,CAACG,gBAAgB,EAAE;UAC7BD,WAAW,GAAG;YACZE,IAAI,EAAEJ,QAAQ,CAACG,gBAAgB,CAACE,UAAU;YAC1CC,GAAG,EAAEN,QAAQ,CAACG,gBAAgB,CAACI;UACjC,CAAC;QACH,CAAC,MAAM;UACL;UACA;UACA;UACAL,WAAW,GAAG;YACZE,IAAI,EAAEI,IAAI,CAACC,GAAG,CAACC,MAAM,CAACC,WAAW,EAAEX,QAAQ,CAACY,eAAe,CAACP,UAAU,EAAEL,QAAQ,CAACa,IAAI,CAACR,UAAU,CAAC;YACjGC,GAAG,EAAEE,IAAI,CAACC,GAAG,CAACC,MAAM,CAACI,WAAW,EAAEd,QAAQ,CAACY,eAAe,CAACL,SAAS,EAAEP,QAAQ,CAACa,IAAI,CAACN,SAAS;UAC/F,CAAC;QACH;MACF,CAAC,MAAM;QACLL,WAAW,GAAG;UACZE,IAAI,EAAEL,EAAE,CAACM,UAAU;UACnBC,GAAG,EAAEP,EAAE,CAACQ;QACV,CAAC;MACH;MACA,IAAIT,eAAe,CAACiB,OAAO,CAACb,WAAW,CAAC,EAAE;QACxCL,WAAW,CAACK,WAAW,CAAC;MAC1B;IACF,CAAC;IACDD,cAAc,EAAE;IAChBF,EAAE,CAACiB,gBAAgB,CAAC,QAAQ,EAAEf,cAAc,CAAC;IAC7C,OAAO,YAAY;MACjBF,EAAE,CAACkB,mBAAmB,CAAC,QAAQ,EAAEhB,cAAc,CAAC;IAClD,CAAC;EACH,CAAC,EAAE,EAAE,EAAER,MAAM,CAAC;EACd,OAAOG,QAAQ;AACjB;AACA,eAAeJ,SAAS"},"metadata":{},"sourceType":"module"}