{"ast":null,"code":"import React from 'react';\nimport { InternalToast } from './toast';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { renderImperatively } from '../../utils/render-imperatively';\nlet currentHandler = null;\nlet currentTimeout = null;\nconst defaultProps = {\n  duration: 2000,\n  position: 'center',\n  maskClickable: true\n};\nconst ToastInner = props => React.createElement(InternalToast, Object.assign({}, props));\nexport function show(p) {\n  const props = mergeProps(defaultProps, typeof p === 'string' ? {\n    content: p\n  } : p);\n  const element = React.createElement(ToastInner, Object.assign({}, props, {\n    onClose: () => {\n      currentHandler = null;\n    }\n  }));\n  if (currentHandler) {\n    currentHandler.replace(element);\n  } else {\n    currentHandler = renderImperatively(element);\n  }\n  if (currentTimeout) {\n    window.clearTimeout(currentTimeout);\n  }\n  if (props.duration !== 0) {\n    currentTimeout = window.setTimeout(() => {\n      clear();\n    }, props.duration);\n  }\n  return currentHandler;\n}\nexport function clear() {\n  currentHandler === null || currentHandler === void 0 ? void 0 : currentHandler.close();\n  currentHandler = null;\n}\nexport function config(val) {\n  if (val.duration !== undefined) {\n    defaultProps.duration = val.duration;\n  }\n  if (val.position !== undefined) {\n    defaultProps.position = val.position;\n  }\n  if (val.maskClickable !== undefined) {\n    defaultProps.maskClickable = val.maskClickable;\n  }\n}","map":{"version":3,"names":["React","InternalToast","mergeProps","renderImperatively","currentHandler","currentTimeout","defaultProps","duration","position","maskClickable","ToastInner","props","createElement","Object","assign","show","p","content","element","onClose","replace","window","clearTimeout","setTimeout","clear","close","config","val","undefined"],"sources":["/Users/xinyonghu/Desktop/personalCode/react18-learn/xiaotaimei/node_modules/antd-mobile/es/components/toast/methods.js"],"sourcesContent":["import React from 'react';\nimport { InternalToast } from './toast';\nimport { mergeProps } from '../../utils/with-default-props';\nimport { renderImperatively } from '../../utils/render-imperatively';\nlet currentHandler = null;\nlet currentTimeout = null;\nconst defaultProps = {\n  duration: 2000,\n  position: 'center',\n  maskClickable: true\n};\nconst ToastInner = props => React.createElement(InternalToast, Object.assign({}, props));\nexport function show(p) {\n  const props = mergeProps(defaultProps, typeof p === 'string' ? {\n    content: p\n  } : p);\n  const element = React.createElement(ToastInner, Object.assign({}, props, {\n    onClose: () => {\n      currentHandler = null;\n    }\n  }));\n  if (currentHandler) {\n    currentHandler.replace(element);\n  } else {\n    currentHandler = renderImperatively(element);\n  }\n  if (currentTimeout) {\n    window.clearTimeout(currentTimeout);\n  }\n  if (props.duration !== 0) {\n    currentTimeout = window.setTimeout(() => {\n      clear();\n    }, props.duration);\n  }\n  return currentHandler;\n}\nexport function clear() {\n  currentHandler === null || currentHandler === void 0 ? void 0 : currentHandler.close();\n  currentHandler = null;\n}\nexport function config(val) {\n  if (val.duration !== undefined) {\n    defaultProps.duration = val.duration;\n  }\n  if (val.position !== undefined) {\n    defaultProps.position = val.position;\n  }\n  if (val.maskClickable !== undefined) {\n    defaultProps.maskClickable = val.maskClickable;\n  }\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,SAAS;AACvC,SAASC,UAAU,QAAQ,gCAAgC;AAC3D,SAASC,kBAAkB,QAAQ,iCAAiC;AACpE,IAAIC,cAAc,GAAG,IAAI;AACzB,IAAIC,cAAc,GAAG,IAAI;AACzB,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE,IAAI;EACdC,QAAQ,EAAE,QAAQ;EAClBC,aAAa,EAAE;AACjB,CAAC;AACD,MAAMC,UAAU,GAAGC,KAAK,IAAIX,KAAK,CAACY,aAAa,CAACX,aAAa,EAAEY,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEH,KAAK,CAAC,CAAC;AACxF,OAAO,SAASI,IAAI,CAACC,CAAC,EAAE;EACtB,MAAML,KAAK,GAAGT,UAAU,CAACI,YAAY,EAAE,OAAOU,CAAC,KAAK,QAAQ,GAAG;IAC7DC,OAAO,EAAED;EACX,CAAC,GAAGA,CAAC,CAAC;EACN,MAAME,OAAO,GAAGlB,KAAK,CAACY,aAAa,CAACF,UAAU,EAAEG,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEH,KAAK,EAAE;IACvEQ,OAAO,EAAE,MAAM;MACbf,cAAc,GAAG,IAAI;IACvB;EACF,CAAC,CAAC,CAAC;EACH,IAAIA,cAAc,EAAE;IAClBA,cAAc,CAACgB,OAAO,CAACF,OAAO,CAAC;EACjC,CAAC,MAAM;IACLd,cAAc,GAAGD,kBAAkB,CAACe,OAAO,CAAC;EAC9C;EACA,IAAIb,cAAc,EAAE;IAClBgB,MAAM,CAACC,YAAY,CAACjB,cAAc,CAAC;EACrC;EACA,IAAIM,KAAK,CAACJ,QAAQ,KAAK,CAAC,EAAE;IACxBF,cAAc,GAAGgB,MAAM,CAACE,UAAU,CAAC,MAAM;MACvCC,KAAK,EAAE;IACT,CAAC,EAAEb,KAAK,CAACJ,QAAQ,CAAC;EACpB;EACA,OAAOH,cAAc;AACvB;AACA,OAAO,SAASoB,KAAK,GAAG;EACtBpB,cAAc,KAAK,IAAI,IAAIA,cAAc,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,cAAc,CAACqB,KAAK,EAAE;EACtFrB,cAAc,GAAG,IAAI;AACvB;AACA,OAAO,SAASsB,MAAM,CAACC,GAAG,EAAE;EAC1B,IAAIA,GAAG,CAACpB,QAAQ,KAAKqB,SAAS,EAAE;IAC9BtB,YAAY,CAACC,QAAQ,GAAGoB,GAAG,CAACpB,QAAQ;EACtC;EACA,IAAIoB,GAAG,CAACnB,QAAQ,KAAKoB,SAAS,EAAE;IAC9BtB,YAAY,CAACE,QAAQ,GAAGmB,GAAG,CAACnB,QAAQ;EACtC;EACA,IAAImB,GAAG,CAAClB,aAAa,KAAKmB,SAAS,EAAE;IACnCtB,YAAY,CAACG,aAAa,GAAGkB,GAAG,CAAClB,aAAa;EAChD;AACF"},"metadata":{},"sourceType":"module"}