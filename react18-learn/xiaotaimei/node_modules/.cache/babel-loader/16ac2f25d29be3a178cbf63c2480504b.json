{"ast":null,"code":"var __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { useRef, useEffect } from 'react';\nvar EventEmitter = /** @class */function () {\n  function EventEmitter() {\n    var _this = this;\n    this.subscriptions = new Set();\n    this.emit = function (val) {\n      var e_1, _a;\n      try {\n        for (var _b = __values(_this.subscriptions), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var subscription = _c.value;\n          subscription(val);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    };\n    this.useSubscription = function (callback) {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      var callbackRef = useRef();\n      callbackRef.current = callback;\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useEffect(function () {\n        function subscription(val) {\n          if (callbackRef.current) {\n            callbackRef.current(val);\n          }\n        }\n        _this.subscriptions.add(subscription);\n        return function () {\n          _this.subscriptions[\"delete\"](subscription);\n        };\n      }, []);\n    };\n  }\n  return EventEmitter;\n}();\nexport { EventEmitter };\nexport default function useEventEmitter() {\n  var ref = useRef();\n  if (!ref.current) {\n    ref.current = new EventEmitter();\n  }\n  return ref.current;\n}","map":{"version":3,"names":["__values","o","s","Symbol","iterator","m","i","call","length","next","value","done","TypeError","useRef","useEffect","EventEmitter","_this","subscriptions","Set","emit","val","e_1","_a","_b","_c","subscription","e_1_1","error","useSubscription","callback","callbackRef","current","add","useEventEmitter","ref"],"sources":["/Users/xinyonghu/Desktop/personalCode/react18-learn/xiaotaimei/node_modules/ahooks/es/useEventEmitter/index.js"],"sourcesContent":["var __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { useRef, useEffect } from 'react';\nvar EventEmitter = /** @class */function () {\n  function EventEmitter() {\n    var _this = this;\n    this.subscriptions = new Set();\n    this.emit = function (val) {\n      var e_1, _a;\n      try {\n        for (var _b = __values(_this.subscriptions), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var subscription = _c.value;\n          subscription(val);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    };\n    this.useSubscription = function (callback) {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      var callbackRef = useRef();\n      callbackRef.current = callback;\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useEffect(function () {\n        function subscription(val) {\n          if (callbackRef.current) {\n            callbackRef.current(val);\n          }\n        }\n        _this.subscriptions.add(subscription);\n        return function () {\n          _this.subscriptions[\"delete\"](subscription);\n        };\n      }, []);\n    };\n  }\n  return EventEmitter;\n}();\nexport { EventEmitter };\nexport default function useEventEmitter() {\n  var ref = useRef();\n  if (!ref.current) {\n    ref.current = new EventEmitter();\n  }\n  return ref.current;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}