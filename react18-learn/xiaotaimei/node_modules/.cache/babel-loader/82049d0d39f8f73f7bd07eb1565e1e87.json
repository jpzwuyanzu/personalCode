{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useEffect, useRef, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport usePagination from '../usePagination';\nimport useUpdateEffect from '../useUpdateEffect';\nvar useAntdTable = function useAntdTable(service, options) {\n  var _a;\n  if (options === void 0) {\n    options = {};\n  }\n  var form = options.form,\n    _b = options.defaultType,\n    defaultType = _b === void 0 ? 'simple' : _b,\n    defaultParams = options.defaultParams,\n    _c = options.manual,\n    manual = _c === void 0 ? false : _c,\n    _d = options.refreshDeps,\n    refreshDeps = _d === void 0 ? [] : _d,\n    _e = options.ready,\n    ready = _e === void 0 ? true : _e,\n    rest = __rest(options, [\"form\", \"defaultType\", \"defaultParams\", \"manual\", \"refreshDeps\", \"ready\"]);\n  var result = usePagination(service, __assign({\n    manual: true\n  }, rest));\n  var _f = result.params,\n    params = _f === void 0 ? [] : _f,\n    run = result.run;\n  var cacheFormTableData = params[2] || {};\n  var _g = __read(useState((cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.type) || defaultType), 2),\n    type = _g[0],\n    setType = _g[1];\n  var allFormDataRef = useRef({});\n  var defaultDataSourceRef = useRef([]);\n  var isAntdV4 = !!(form === null || form === void 0 ? void 0 : form.getInternalHooks);\n  // get current active field values\n  var getActiveFieldValues = function getActiveFieldValues() {\n    if (!form) {\n      return {};\n    }\n    // antd 4\n    if (isAntdV4) {\n      return form.getFieldsValue(null, function () {\n        return true;\n      });\n    }\n    // antd 3\n    var allFieldsValue = form.getFieldsValue();\n    var activeFieldsValue = {};\n    Object.keys(allFieldsValue).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFieldsValue[key];\n      }\n    });\n    return activeFieldsValue;\n  };\n  var validateFields = function validateFields() {\n    if (!form) {\n      return Promise.resolve({});\n    }\n    var activeFieldsValue = getActiveFieldValues();\n    var fields = Object.keys(activeFieldsValue);\n    // antd 4\n    if (isAntdV4) {\n      return form.validateFields(fields);\n    }\n    // antd 3\n    return new Promise(function (resolve, reject) {\n      form.validateFields(fields, function (errors, values) {\n        if (errors) {\n          reject(errors);\n        } else {\n          resolve(values);\n        }\n      });\n    });\n  };\n  var restoreForm = function restoreForm() {\n    if (!form) {\n      return;\n    }\n    // antd v4\n    if (isAntdV4) {\n      return form.setFieldsValue(allFormDataRef.current);\n    }\n    // antd v3\n    var activeFieldsValue = {};\n    Object.keys(allFormDataRef.current).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFormDataRef.current[key];\n      }\n    });\n    form.setFieldsValue(activeFieldsValue);\n  };\n  var changeType = function changeType() {\n    var activeFieldsValue = getActiveFieldValues();\n    allFormDataRef.current = __assign(__assign({}, allFormDataRef.current), activeFieldsValue);\n    setType(function (t) {\n      return t === 'simple' ? 'advance' : 'simple';\n    });\n  };\n  var _submit = function _submit(initPagination) {\n    if (!ready) {\n      return;\n    }\n    setTimeout(function () {\n      validateFields().then(function (values) {\n        if (values === void 0) {\n          values = {};\n        }\n        var pagination = initPagination || __assign(__assign({\n          pageSize: options.defaultPageSize || 10\n        }, (params === null || params === void 0 ? void 0 : params[0]) || {}), {\n          current: 1\n        });\n        if (!form) {\n          // @ts-ignore\n          run(pagination);\n          return;\n        }\n        // record all form data\n        allFormDataRef.current = __assign(__assign({}, allFormDataRef.current), values);\n        // @ts-ignore\n        run(pagination, values, {\n          allFormData: allFormDataRef.current,\n          type: type\n        });\n      })[\"catch\"](function (err) {\n        return err;\n      });\n    });\n  };\n  var reset = function reset() {\n    if (form) {\n      form.resetFields();\n    }\n    _submit();\n  };\n  var submit = function submit(e) {\n    var _a;\n    (_a = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _a === void 0 ? void 0 : _a.call(e);\n    _submit();\n  };\n  var onTableChange = function onTableChange(pagination, filters, sorter) {\n    var _a = __read(params || []),\n      oldPaginationParams = _a[0],\n      restParams = _a.slice(1);\n    run.apply(void 0, __spreadArray([__assign(__assign({}, oldPaginationParams), {\n      current: pagination.current,\n      pageSize: pagination.pageSize,\n      filters: filters,\n      sorter: sorter\n    })], __read(restParams), false));\n  };\n  // init\n  useEffect(function () {\n    // if has cache, use cached params. ignore manual and ready.\n    if (params.length > 0) {\n      allFormDataRef.current = (cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.allFormData) || {};\n      restoreForm();\n      // @ts-ignore\n      run.apply(void 0, __spreadArray([], __read(params), false));\n      return;\n    }\n    if (!manual && ready) {\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, []);\n  // change search type, restore form data\n  useUpdateEffect(function () {\n    if (!ready) {\n      return;\n    }\n    restoreForm();\n  }, [type]);\n  // refresh & ready change on the same time\n  var hasAutoRun = useRef(false);\n  hasAutoRun.current = false;\n  useUpdateEffect(function () {\n    if (!manual && ready) {\n      hasAutoRun.current = true;\n      if (form) {\n        form.resetFields();\n      }\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, [ready]);\n  useUpdateEffect(function () {\n    if (hasAutoRun.current) {\n      return;\n    }\n    if (!ready) {\n      return;\n    }\n    if (!manual) {\n      hasAutoRun.current = true;\n      result.pagination.changeCurrent(1);\n    }\n  }, __spreadArray([], __read(refreshDeps), false));\n  return __assign(__assign({}, result), {\n    tableProps: {\n      dataSource: ((_a = result.data) === null || _a === void 0 ? void 0 : _a.list) || defaultDataSourceRef.current,\n      loading: result.loading,\n      onChange: useMemoizedFn(onTableChange),\n      pagination: {\n        current: result.pagination.current,\n        pageSize: result.pagination.pageSize,\n        total: result.pagination.total\n      }\n    },\n    search: {\n      submit: useMemoizedFn(submit),\n      type: type,\n      changeType: useMemoizedFn(changeType),\n      reset: useMemoizedFn(reset)\n    }\n  });\n};\nexport default useAntdTable;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__read","o","m","Symbol","iterator","r","ar","next","done","push","value","error","__spreadArray","to","from","pack","l","Array","slice","concat","useEffect","useRef","useState","useMemoizedFn","usePagination","useUpdateEffect","useAntdTable","service","options","_a","form","_b","defaultType","defaultParams","_c","manual","_d","refreshDeps","_e","ready","rest","result","_f","params","run","cacheFormTableData","_g","type","setType","allFormDataRef","defaultDataSourceRef","isAntdV4","getInternalHooks","getActiveFieldValues","getFieldsValue","allFieldsValue","activeFieldsValue","keys","forEach","key","getFieldInstance","validateFields","Promise","resolve","fields","reject","errors","values","restoreForm","setFieldsValue","current","changeType","_submit","initPagination","setTimeout","then","pagination","pageSize","defaultPageSize","allFormData","err","reset","resetFields","submit","preventDefault","onTableChange","filters","sorter","oldPaginationParams","restParams","hasAutoRun","changeCurrent","tableProps","dataSource","data","list","loading","onChange","total","search"],"sources":["/Users/xinyonghu/Desktop/personalCode/react18-learn/xiaotaimei/node_modules/ahooks/es/useAntdTable/index.js"],"sourcesContent":["var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useEffect, useRef, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport usePagination from '../usePagination';\nimport useUpdateEffect from '../useUpdateEffect';\nvar useAntdTable = function useAntdTable(service, options) {\n  var _a;\n  if (options === void 0) {\n    options = {};\n  }\n  var form = options.form,\n    _b = options.defaultType,\n    defaultType = _b === void 0 ? 'simple' : _b,\n    defaultParams = options.defaultParams,\n    _c = options.manual,\n    manual = _c === void 0 ? false : _c,\n    _d = options.refreshDeps,\n    refreshDeps = _d === void 0 ? [] : _d,\n    _e = options.ready,\n    ready = _e === void 0 ? true : _e,\n    rest = __rest(options, [\"form\", \"defaultType\", \"defaultParams\", \"manual\", \"refreshDeps\", \"ready\"]);\n  var result = usePagination(service, __assign({\n    manual: true\n  }, rest));\n  var _f = result.params,\n    params = _f === void 0 ? [] : _f,\n    run = result.run;\n  var cacheFormTableData = params[2] || {};\n  var _g = __read(useState((cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.type) || defaultType), 2),\n    type = _g[0],\n    setType = _g[1];\n  var allFormDataRef = useRef({});\n  var defaultDataSourceRef = useRef([]);\n  var isAntdV4 = !!(form === null || form === void 0 ? void 0 : form.getInternalHooks);\n  // get current active field values\n  var getActiveFieldValues = function getActiveFieldValues() {\n    if (!form) {\n      return {};\n    }\n    // antd 4\n    if (isAntdV4) {\n      return form.getFieldsValue(null, function () {\n        return true;\n      });\n    }\n    // antd 3\n    var allFieldsValue = form.getFieldsValue();\n    var activeFieldsValue = {};\n    Object.keys(allFieldsValue).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFieldsValue[key];\n      }\n    });\n    return activeFieldsValue;\n  };\n  var validateFields = function validateFields() {\n    if (!form) {\n      return Promise.resolve({});\n    }\n    var activeFieldsValue = getActiveFieldValues();\n    var fields = Object.keys(activeFieldsValue);\n    // antd 4\n    if (isAntdV4) {\n      return form.validateFields(fields);\n    }\n    // antd 3\n    return new Promise(function (resolve, reject) {\n      form.validateFields(fields, function (errors, values) {\n        if (errors) {\n          reject(errors);\n        } else {\n          resolve(values);\n        }\n      });\n    });\n  };\n  var restoreForm = function restoreForm() {\n    if (!form) {\n      return;\n    }\n    // antd v4\n    if (isAntdV4) {\n      return form.setFieldsValue(allFormDataRef.current);\n    }\n    // antd v3\n    var activeFieldsValue = {};\n    Object.keys(allFormDataRef.current).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFormDataRef.current[key];\n      }\n    });\n    form.setFieldsValue(activeFieldsValue);\n  };\n  var changeType = function changeType() {\n    var activeFieldsValue = getActiveFieldValues();\n    allFormDataRef.current = __assign(__assign({}, allFormDataRef.current), activeFieldsValue);\n    setType(function (t) {\n      return t === 'simple' ? 'advance' : 'simple';\n    });\n  };\n  var _submit = function _submit(initPagination) {\n    if (!ready) {\n      return;\n    }\n    setTimeout(function () {\n      validateFields().then(function (values) {\n        if (values === void 0) {\n          values = {};\n        }\n        var pagination = initPagination || __assign(__assign({\n          pageSize: options.defaultPageSize || 10\n        }, (params === null || params === void 0 ? void 0 : params[0]) || {}), {\n          current: 1\n        });\n        if (!form) {\n          // @ts-ignore\n          run(pagination);\n          return;\n        }\n        // record all form data\n        allFormDataRef.current = __assign(__assign({}, allFormDataRef.current), values);\n        // @ts-ignore\n        run(pagination, values, {\n          allFormData: allFormDataRef.current,\n          type: type\n        });\n      })[\"catch\"](function (err) {\n        return err;\n      });\n    });\n  };\n  var reset = function reset() {\n    if (form) {\n      form.resetFields();\n    }\n    _submit();\n  };\n  var submit = function submit(e) {\n    var _a;\n    (_a = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _a === void 0 ? void 0 : _a.call(e);\n    _submit();\n  };\n  var onTableChange = function onTableChange(pagination, filters, sorter) {\n    var _a = __read(params || []),\n      oldPaginationParams = _a[0],\n      restParams = _a.slice(1);\n    run.apply(void 0, __spreadArray([__assign(__assign({}, oldPaginationParams), {\n      current: pagination.current,\n      pageSize: pagination.pageSize,\n      filters: filters,\n      sorter: sorter\n    })], __read(restParams), false));\n  };\n  // init\n  useEffect(function () {\n    // if has cache, use cached params. ignore manual and ready.\n    if (params.length > 0) {\n      allFormDataRef.current = (cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.allFormData) || {};\n      restoreForm();\n      // @ts-ignore\n      run.apply(void 0, __spreadArray([], __read(params), false));\n      return;\n    }\n    if (!manual && ready) {\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, []);\n  // change search type, restore form data\n  useUpdateEffect(function () {\n    if (!ready) {\n      return;\n    }\n    restoreForm();\n  }, [type]);\n  // refresh & ready change on the same time\n  var hasAutoRun = useRef(false);\n  hasAutoRun.current = false;\n  useUpdateEffect(function () {\n    if (!manual && ready) {\n      hasAutoRun.current = true;\n      if (form) {\n        form.resetFields();\n      }\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, [ready]);\n  useUpdateEffect(function () {\n    if (hasAutoRun.current) {\n      return;\n    }\n    if (!ready) {\n      return;\n    }\n    if (!manual) {\n      hasAutoRun.current = true;\n      result.pagination.changeCurrent(1);\n    }\n  }, __spreadArray([], __read(refreshDeps), false));\n  return __assign(__assign({}, result), {\n    tableProps: {\n      dataSource: ((_a = result.data) === null || _a === void 0 ? void 0 : _a.list) || defaultDataSourceRef.current,\n      loading: result.loading,\n      onChange: useMemoizedFn(onTableChange),\n      pagination: {\n        current: result.pagination.current,\n        pageSize: result.pagination.pageSize,\n        total: result.pagination.total\n      }\n    },\n    search: {\n      submit: useMemoizedFn(submit),\n      type: type,\n      changeType: useMemoizedFn(changeType),\n      reset: useMemoizedFn(reset)\n    }\n  });\n};\nexport default useAntdTable;"],"mappings":"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"},"metadata":{},"sourceType":"module"}