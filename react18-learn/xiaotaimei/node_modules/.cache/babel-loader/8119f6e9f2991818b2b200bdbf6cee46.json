{"ast":null,"code":"var cachePromise = new Map();\nvar getCachePromise = function getCachePromise(cacheKey) {\n  return cachePromise.get(cacheKey);\n};\nvar setCachePromise = function setCachePromise(cacheKey, promise) {\n  // Should cache the same promise, cannot be promise.finally\n  // Because the promise.finally will change the reference of the promise\n  cachePromise.set(cacheKey, promise);\n  // no use promise.finally for compatibility\n  promise.then(function (res) {\n    cachePromise[\"delete\"](cacheKey);\n    return res;\n  })[\"catch\"](function () {\n    cachePromise[\"delete\"](cacheKey);\n  });\n};\nexport { getCachePromise, setCachePromise };","map":{"version":3,"names":["cachePromise","Map","getCachePromise","cacheKey","get","setCachePromise","promise","set","then","res"],"sources":["/Users/xinyonghu/Desktop/personalCode/react18-learn/xiaotaimei/node_modules/ahooks/es/useRequest/src/utils/cachePromise.js"],"sourcesContent":["var cachePromise = new Map();\nvar getCachePromise = function getCachePromise(cacheKey) {\n  return cachePromise.get(cacheKey);\n};\nvar setCachePromise = function setCachePromise(cacheKey, promise) {\n  // Should cache the same promise, cannot be promise.finally\n  // Because the promise.finally will change the reference of the promise\n  cachePromise.set(cacheKey, promise);\n  // no use promise.finally for compatibility\n  promise.then(function (res) {\n    cachePromise[\"delete\"](cacheKey);\n    return res;\n  })[\"catch\"](function () {\n    cachePromise[\"delete\"](cacheKey);\n  });\n};\nexport { getCachePromise, setCachePromise };"],"mappings":"AAAA,IAAIA,YAAY,GAAG,IAAIC,GAAG,EAAE;AAC5B,IAAIC,eAAe,GAAG,SAASA,eAAe,CAACC,QAAQ,EAAE;EACvD,OAAOH,YAAY,CAACI,GAAG,CAACD,QAAQ,CAAC;AACnC,CAAC;AACD,IAAIE,eAAe,GAAG,SAASA,eAAe,CAACF,QAAQ,EAAEG,OAAO,EAAE;EAChE;EACA;EACAN,YAAY,CAACO,GAAG,CAACJ,QAAQ,EAAEG,OAAO,CAAC;EACnC;EACAA,OAAO,CAACE,IAAI,CAAC,UAAUC,GAAG,EAAE;IAC1BT,YAAY,CAAC,QAAQ,CAAC,CAACG,QAAQ,CAAC;IAChC,OAAOM,GAAG;EACZ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,YAAY;IACtBT,YAAY,CAAC,QAAQ,CAAC,CAACG,QAAQ,CAAC;EAClC,CAAC,CAAC;AACJ,CAAC;AACD,SAASD,eAAe,EAAEG,eAAe"},"metadata":{},"sourceType":"module"}