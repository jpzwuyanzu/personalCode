{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport { useMemo, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nexport default function useSelections(items, defaultSelected) {\n  if (defaultSelected === void 0) {\n    defaultSelected = [];\n  }\n  var _a = __read(useState(defaultSelected), 2),\n    selected = _a[0],\n    setSelected = _a[1];\n  var selectedSet = useMemo(function () {\n    return new Set(selected);\n  }, [selected]);\n  var isSelected = function isSelected(item) {\n    return selectedSet.has(item);\n  };\n  var select = function select(item) {\n    selectedSet.add(item);\n    return setSelected(Array.from(selectedSet));\n  };\n  var unSelect = function unSelect(item) {\n    selectedSet[\"delete\"](item);\n    return setSelected(Array.from(selectedSet));\n  };\n  var toggle = function toggle(item) {\n    if (isSelected(item)) {\n      unSelect(item);\n    } else {\n      select(item);\n    }\n  };\n  var selectAll = function selectAll() {\n    items.forEach(function (o) {\n      selectedSet.add(o);\n    });\n    setSelected(Array.from(selectedSet));\n  };\n  var unSelectAll = function unSelectAll() {\n    items.forEach(function (o) {\n      selectedSet[\"delete\"](o);\n    });\n    setSelected(Array.from(selectedSet));\n  };\n  var noneSelected = useMemo(function () {\n    return items.every(function (o) {\n      return !selectedSet.has(o);\n    });\n  }, [items, selectedSet]);\n  var allSelected = useMemo(function () {\n    return items.every(function (o) {\n      return selectedSet.has(o);\n    }) && !noneSelected;\n  }, [items, selectedSet, noneSelected]);\n  var partiallySelected = useMemo(function () {\n    return !noneSelected && !allSelected;\n  }, [noneSelected, allSelected]);\n  var toggleAll = function toggleAll() {\n    return allSelected ? unSelectAll() : selectAll();\n  };\n  return {\n    selected: selected,\n    noneSelected: noneSelected,\n    allSelected: allSelected,\n    partiallySelected: partiallySelected,\n    setSelected: setSelected,\n    isSelected: isSelected,\n    select: useMemoizedFn(select),\n    unSelect: useMemoizedFn(unSelect),\n    toggle: useMemoizedFn(toggle),\n    selectAll: useMemoizedFn(selectAll),\n    unSelectAll: useMemoizedFn(unSelectAll),\n    toggleAll: useMemoizedFn(toggleAll)\n  };\n}","map":{"version":3,"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","useMemo","useState","useMemoizedFn","useSelections","items","defaultSelected","_a","selected","setSelected","selectedSet","Set","isSelected","item","has","select","add","Array","from","unSelect","toggle","selectAll","forEach","unSelectAll","noneSelected","every","allSelected","partiallySelected","toggleAll"],"sources":["/Users/xinyonghu/Desktop/personalCode/react18-learn/xiaotaimei/node_modules/ahooks/es/useSelections/index.js"],"sourcesContent":["var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport { useMemo, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nexport default function useSelections(items, defaultSelected) {\n  if (defaultSelected === void 0) {\n    defaultSelected = [];\n  }\n  var _a = __read(useState(defaultSelected), 2),\n    selected = _a[0],\n    setSelected = _a[1];\n  var selectedSet = useMemo(function () {\n    return new Set(selected);\n  }, [selected]);\n  var isSelected = function isSelected(item) {\n    return selectedSet.has(item);\n  };\n  var select = function select(item) {\n    selectedSet.add(item);\n    return setSelected(Array.from(selectedSet));\n  };\n  var unSelect = function unSelect(item) {\n    selectedSet[\"delete\"](item);\n    return setSelected(Array.from(selectedSet));\n  };\n  var toggle = function toggle(item) {\n    if (isSelected(item)) {\n      unSelect(item);\n    } else {\n      select(item);\n    }\n  };\n  var selectAll = function selectAll() {\n    items.forEach(function (o) {\n      selectedSet.add(o);\n    });\n    setSelected(Array.from(selectedSet));\n  };\n  var unSelectAll = function unSelectAll() {\n    items.forEach(function (o) {\n      selectedSet[\"delete\"](o);\n    });\n    setSelected(Array.from(selectedSet));\n  };\n  var noneSelected = useMemo(function () {\n    return items.every(function (o) {\n      return !selectedSet.has(o);\n    });\n  }, [items, selectedSet]);\n  var allSelected = useMemo(function () {\n    return items.every(function (o) {\n      return selectedSet.has(o);\n    }) && !noneSelected;\n  }, [items, selectedSet, noneSelected]);\n  var partiallySelected = useMemo(function () {\n    return !noneSelected && !allSelected;\n  }, [noneSelected, allSelected]);\n  var toggleAll = function toggleAll() {\n    return allSelected ? unSelectAll() : selectAll();\n  };\n  return {\n    selected: selected,\n    noneSelected: noneSelected,\n    allSelected: allSelected,\n    partiallySelected: partiallySelected,\n    setSelected: setSelected,\n    isSelected: isSelected,\n    select: useMemoizedFn(select),\n    unSelect: useMemoizedFn(unSelect),\n    toggle: useMemoizedFn(toggle),\n    selectAll: useMemoizedFn(selectAll),\n    unSelectAll: useMemoizedFn(unSelectAll),\n    toggleAll: useMemoizedFn(toggleAll)\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}